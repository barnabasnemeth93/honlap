/* Alap: VILÁGOS */
:root{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --panel2:#f1f3f9;
  --text:#121523;
  --muted:#56607a;
  --border:#dde3f0;
  --accent:#3b74ff;
  --good:#16a34a;
  --bad:#e11d48;
    --code-bg: #f3f5ff;
  --code-border: #d7def2;
  --code-text: #121523;
    --result-bg: #f8fafc;
  --result-good-bg: #ecfdf5;
  --result-bad-bg: #fef2f2;
    --table-head-bg: #eef2ff;
  --table-row-alt: #f7f9ff;
  --table-grid: color-mix(in srgb, var(--border) 85%, transparent);

}

/* SÖTÉT mód: ha a html-en data-theme="dark" */
html[data-theme="dark"]{
  --bg:#0b0d12;
  --panel:#111522;
  --panel2:#0f1320;
  --text:#e9edf7;
  --muted:#aab4cc;
  --border:#222a3d;
  --accent:#7aa2ff;
  --good:#4ade80;
  --bad:#fb7185;
    --result-bg: #0b1020;
  --result-good-bg: #06281a;
  --result-bad-bg: #2a0a10;
    --table-head-bg: #0c1633;
  --table-row-alt: #0e1426;
  --table-grid: color-mix(in srgb, var(--border) 95%, transparent);
    --code-bg: #0a0f1f;
  --code-border: #222a3d;
  --code-text: #e9edf7;

}


*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: var(--bg);
  color:var(--text);
}


.topbar{
  display:flex;
  gap:16px;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  border-bottom:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 85%, transparent);
  position: sticky;
  top: 0;
  z-index: 10;
  backdrop-filter: blur(10px);
}

.topbar-right{
  display:flex;
  align-items:center;
  gap:14px;
}

.theme-toggle{
  display:flex;
  align-items:center;
  gap:10px;
  user-select:none;
}

.switch{
  width:46px;
  height:28px;
  border-radius:999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 85%, transparent);
  cursor:pointer;
  padding:3px;
  position:relative;
}

.switch .knob{
  display:block;
  width:22px;
  height:22px;
  border-radius:999px;
  background: var(--panel);
  border:1px solid var(--border);
  transform: translateX(0);
  transition: transform 160ms ease;
}




.brand{ display:flex; gap:12px; align-items:center; }
.logo{ font-size:24px; }
.title{ font-weight:700; }
.subtitle{ color:var(--muted); font-size:13px; }

.search input{
  width:min(520px, 52vw);
  padding:10px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  outline:none;
}
.search input:focus{
  border-color: color-mix(in srgb, var(--accent) 60%, var(--border));
}

.layout{
  display:grid;
  grid-template-columns: 320px 1fr;
  gap:16px;
  padding:16px;
}

.sidebar{
  background: color-mix(in srgb, var(--panel) 90%, transparent);
  border:1px solid var(--border);
  border-radius:14px;
  overflow:hidden;
  min-height: calc(100vh - 120px);
}

.sidebar-head{
  padding:14px 14px 10px;
  border-bottom:1px solid var(--border);
}
.sidebar h2{ margin:0 0 6px; font-size:16px; }

.topic-list{
  display:flex;
  flex-direction:column;
  padding:8px;
  gap:8px;
}

.topic-item{
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid transparent;
  cursor:pointer;
  background: transparent;
  text-align:left;
  color:inherit;
}
.topic-item:hover{
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
  border-color: var(--border);
}
.topic-item.active{
  border-color: color-mix(in srgb, var(--accent) 60%, var(--border));
  background: color-mix(in srgb, var(--panel2) 85%, transparent);
}
.topic-code{ font-weight:700; }
.topic-desc{ color:var(--muted); font-size:13px; line-height:1.3; }

.content{ min-height: calc(100vh - 120px); }

.empty{
  border:1px dashed var(--border);
  border-radius:14px;
  padding:24px;
  background: color-mix(in srgb, var(--panel) 55%, transparent);
}

.card{
  border:1px solid var(--border);
  border-radius:14px;
  background: color-mix(in srgb, var(--panel) 82%, transparent);
  padding:16px;
}

.card-head{
  display:flex;
  gap:16px;
  align-items:flex-start;
  justify-content:space-between;
  margin-bottom:10px;
}
.actions{ display:flex; gap:10px; }

.btn{
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 80%, transparent);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
}
.btn:hover{ border-color: color-mix(in srgb, var(--accent) 45%, var(--border)); }
.btn-ghost{ background: transparent; }

.sep{
  border:none;
  border-top:1px solid var(--border);
  margin:18px 0;
}

.prose{
  line-height:1.6;
}
.prose h2{ margin:18px 0 8px; }
.prose h3{ margin:16px 0 8px; }
.prose ul{ margin:8px 0 12px 20px; }
.prose code{
  background: var(--code-bg);
  color: var(--code-text);
  padding: 2px 6px;
  border-radius: 8px;
  border: 1px solid var(--code-border);
}

.prose .kbd{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
.prose .callout{
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
  padding:12px;
  border-radius:12px;
}
.prose .grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
.prose .table{
  width:100%;
  border-collapse: separate;   /* hogy a radius szépen működjön */
  border-spacing: 0;
  overflow:hidden;
  border-radius:14px;
  border:1px solid var(--table-grid);
  background: var(--panel);
}



.prose .table th,
.prose .table td{
  padding:12px 12px;
  border-right:1px solid var(--table-grid);
  border-bottom:1px solid var(--table-grid);
  vertical-align: top;
}

.prose .table th:last-child,
.prose .table td:last-child{
  border-right:none;
}

.prose .table tr:last-child td{
  border-bottom:none;
}

.prose .table thead th{
  background: var(--table-head-bg);
  color: var(--text);
  font-weight:800;
  text-align:left;
}

/* finom zebra */
.prose .table tbody tr:nth-child(even) td{
  background: var(--table-row-alt);
}

/* hover kiemelés */
.prose .table tbody tr:hover td{
  background: color-mix(in srgb, var(--accent) 8%, var(--panel));
}

/* ✅ összevont cellák (colspan/rowspan) középre */
.prose .table td[colspan],
.prose .table td[rowspan]{
  text-align:center;
  vertical-align: middle;
  font-weight: 700;
}

/* opcionális: az első oszlop legyen kicsit “cím” jellegű */
.prose .table tbody td:first-child{
  font-weight:700;
  color: color-mix(in srgb, var(--text) 85%, var(--muted));
  width: 38%;
}

/* PCI vs PCIe: ne legyen kiemelt az első oszlop */
.prose .table-compare tbody td:first-child{
  font-weight:400;
  color: var(--text);
}


.quiz-head{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}
.quiz .q{
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
  border-radius:14px;
  padding:14px;
  margin-bottom:12px;
}
.quiz .q h3{ margin:0 0 10px; font-size:16px; }
.quiz .opts{ display:flex; flex-direction:column; gap:8px; }
.quiz label{
  display:flex;
  gap:10px;
  align-items:flex-start;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid var(--border);
  cursor:pointer;
}
.quiz label:hover{ border-color: color-mix(in srgb, var(--accent) 40%, var(--border)); }
.badge{
  display:inline-block;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid var(--border);
  color:var(--muted);
  font-size:12px;
}

.result{
  margin-top:10px;
  padding:10px;
  border-radius:12px;
  border:1px solid var(--border);
  background: var(--result-bg);
  color: var(--text);
}

.result.good{
  border-color: color-mix(in srgb, var(--good) 60%, var(--border));
  background: var(--result-good-bg);
}

.result.bad{
  border-color: color-mix(in srgb, var(--bad) 60%, var(--border));
  background: var(--result-bad-bg);
}


.hidden{ display:none !important; }
.muted{ color:var(--muted); font-size:13px; }

.footer{
  padding:14px 16px;
  border-top:1px solid var(--border);
}
@media (max-width: 920px){
  .layout{ grid-template-columns: 1fr; }
  .search input{ width: 100%; }
  .sidebar{ min-height:auto; }
}


.modal{
  position:fixed;
  inset:0;
  z-index:50;
}

.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,0.45);
}

.modal-panel{
  position:relative;
  width:min(900px, calc(100vw - 24px));
  max-height: calc(100vh - 24px);
  margin:12px auto;
  border-radius:16px;
  border:1px solid var(--border);
  background: var(--panel);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  box-shadow: 0 20px 80px rgba(0,0,0,0.35);
}

.modal-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:14px 14px;
  border-bottom:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
}

.modal-title{
  font-weight:800;
  font-size:18px;
}

.modal-actions{
  display:flex;
  gap:10px;
  align-items:center;
}

.modal-body{
  padding:14px;
  overflow:auto;
}

/* kis animáció érzés */
.modal-panel{
  transform: translateY(4px);
  opacity: 1;
}


.prose .figure{
  margin: 12px 0;
}

.prose .figure img{
  display: block;
  max-height: 400px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: var(--panel);
}

/* ====== SzA jegyzet "tanulóbarát" blokkok ====== */
.prose .learn-block{
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--panel) 82%, transparent);
  border-radius: 14px;
  padding: 12px 12px;
  margin: 12px 0;
}

.prose .learn-title{
  font-weight: 900;
  letter-spacing: 0.2px;
  margin-bottom: 8px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border);
}

.prose .learn-body p:last-child{ margin-bottom: 0; }

/* alcím-kártya a learn-blockon belül */
.prose .subblock{
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 75%, transparent);
  border-radius: 14px;
  padding: 12px;
  margin: 10px 0;
}

.prose .subblock-title{
  font-weight: 850;
  margin-bottom: 6px;
}

/* 2 oszlopos grid (a te .grid-edhez illeszkedve) */
.prose .grid-2{
  grid-template-columns: 1fr 1fr;
}

/* előny/hátrány pillák */
.prose .pill{
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--panel) 88%, transparent);
  border-radius: 14px;
  padding: 10px 10px;
}

.prose .pill-title{
  font-weight: 850;
  margin-bottom: 6px;
}

/* Vezérlővonal "4 típus" rács */
.prose .control-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.prose .control-card{
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
  border-radius: 14px;
  padding: 10px 10px;
}

.prose .control-title{
  font-weight: 900;
  margin-bottom: 6px;
}

/* listák kicsit rendezettebbek blokkokban */
.prose .learn-block ul{
  margin: 8px 0 0 20px;
}

.prose .learn-block li{
  margin: 3px 0;
}

/* mobilon: egy oszlop */
@media (max-width: 920px){
  .prose .grid-2{ grid-template-columns: 1fr; }
  .prose .control-grid{ grid-template-columns: 1fr; }
}

.prose .learn-title .num{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 28px;
  height: 24px;
  padding: 0 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 70%, transparent);
  margin-right: 8px;
  font-weight: 900;
  color: color-mix(in srgb, var(--text) 85%, var(--muted));
}


/* opcionális: summary modalban kicsit kompaktabb */
#summaryHtml.prose h2 { margin-top: 14px; }
#summaryHtml.prose ul { margin-bottom: 10px; }


.prose .tag{
  display:inline-block;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid var(--border);
  background: color-mix(in srgb, var(--panel2) 75%, transparent);
  color: color-mix(in srgb, var(--text) 86%, var(--muted));
  font-size: 12px;
  font-weight: 800;
  margin: 0 4px 4px 0;
}
